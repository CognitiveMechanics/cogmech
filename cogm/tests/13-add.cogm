
@include "../lib/std.cogm"
@include "../lib/math.cogm"

add(a, b, r) ->
  <
    <"op1", a>,
    <"op2", b>,
    <"sum", r>
  >

s0 : add( [], [], [*] ) =>
  add(
    [],
    s0["op1"],
    s0["op2"]
  )

s1 : add( [*], not0, [] ) =>
  add(
    [],
    -(s1["op2"]),
    +(s1["sum"])
  )

s2 : add( [*], *0, [] ) =>
  add(
    [],
    [],
    s2["sum"]
  )

Add(a, b) ->
  Eval(
    add(a, b, [])
  )["sum"]

: Add(1, 2)