
@include "../lib/std.cogm"
@include "../lib/math.cogm"

add(a, b, r) -> <
  <"op1", a>,
  <"op2", b>,
  <"sum", r>
>

s0 : add(proxy,      proxy,     *proxy)
  => add(proxy,  s0["op1"],  s0["op2"])

s1 : add(*proxy,             not0,            proxy)
  => add(proxy,   Incr(s1["op2"]),  Decr(s1["sum"]))

s2 : add(  *proxy,     *0,      proxy)
  => add(   proxy,  proxy,  s2["sum"])

add_i :: add(a, b, proxy)
Add(a, b) -> Eval(add_i)["sum"]

: Add(1, 2)